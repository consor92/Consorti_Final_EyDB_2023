-- MySQL Script generated by MySQL Workbench
-- Thu Jul 30 18:08:51 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema FacturacionEmpresa
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema FacturacionEmpresa
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `FacturacionEmpresa` DEFAULT CHARACTER SET utf8 ;
USE `FacturacionEmpresa` ;

-- -----------------------------------------------------
-- Table `FacturacionEmpresa`.`Talonario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `FacturacionEmpresa`.`Talonario` (
  `numero_talonario` INT NOT NULL,
  `codigo` INT NOT NULL,
  `sucursal` INT NOT NULL,
  `cant_hojas` INT NOT NULL,
  `hoja_actual` INT NOT NULL,
  `vencimiento` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`numero_talonario`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `FacturacionEmpresa`.`Cliente_proveedor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `FacturacionEmpresa`.`Cliente_proveedor` (
  `id_empresa` INT NOT NULL,
  `nombre_comercial` VARCHAR(45) NOT NULL,
  `nombre_fantacia` VARCHAR(45) NOT NULL,
  `telefono` VARCHAR(45) NOT NULL,
  `direccion` VARCHAR(45) NOT NULL,
  `piso` INT NOT NULL,
  `dpto` VARCHAR(45) NOT NULL,
  `codigo_postal` INT NOT NULL,
  `documento` INT NOT NULL,
  `condicion_iva` VARCHAR(45) NOT NULL,
  `num_cliente` INT NOT NULL,
  `tipo_cliente` VARCHAR(45) NOT NULL,
  `contacto_nombre` VARCHAR(45) NOT NULL,
  `contacto_dni` INT NOT NULL,
  `contacto_cargo` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_empresa`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `FacturacionEmpresa`.`Stock`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `FacturacionEmpresa`.`Stock` (
  `idStock` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `descripcion` VARCHAR(45) NOT NULL,
  `cantidad` INT NOT NULL,
  `precio_venta` DECIMAL(4) NOT NULL,
  `precio_compra` DECIMAL(4) NOT NULL,
  PRIMARY KEY (`idStock`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `FacturacionEmpresa`.`Items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `FacturacionEmpresa`.`Items` (
  `idItem` INT NOT NULL AUTO_INCREMENT,
  `id_factura` INT NOT NULL,
  `cantidad` INT NOT NULL,
  `id_codigo` INT NOT NULL,
  `descripcion` VARCHAR(45) NOT NULL,
  `precio_unitario` DECIMAL(4) NOT NULL,
  `Itemscol` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idItem`),
  INDEX `id_codigo_idx` (`id_codigo` ASC) VISIBLE,
  CONSTRAINT `id_codigo`
    FOREIGN KEY (`id_codigo`)
    REFERENCES `FacturacionEmpresa`.`Stock` (`idStock`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `FacturacionEmpresa`.`Factura`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `FacturacionEmpresa`.`Factura` (
  `id_factura` INT NOT NULL,
  `num_talonario` INT NOT NULL,
  `num_cliente` INT NOT NULL,
  `fecha` VARCHAR(45) NOT NULL,
  `numero_factura` INT NOT NULL,
  `num_items` INT NOT NULL,
  `subtotal` DECIMAL(4) NOT NULL,
  `iva21` DECIMAL(4) NOT NULL,
  `total` DECIMAL(4) NOT NULL,
  `sucursal` INT NOT NULL,
  PRIMARY KEY (`id_factura`),
  INDEX `num_talonario_idx` (`num_talonario` ASC) VISIBLE,
  INDEX `num_cliente_idx` (`num_cliente` ASC) VISIBLE,
  INDEX `num_items_idx` (`num_items` ASC) VISIBLE,
  CONSTRAINT `num_talonario`
    FOREIGN KEY (`num_talonario`)
    REFERENCES `FacturacionEmpresa`.`Talonario` (`numero_talonario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `num_cliente`
    FOREIGN KEY (`num_cliente`)
    REFERENCES `FacturacionEmpresa`.`Cliente_proveedor` (`id_empresa`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `num_items`
    FOREIGN KEY (`num_items`)
    REFERENCES `FacturacionEmpresa`.`Items` (`idItem`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

--
-- Dumping data for table `cliente_proveedor`
--

LOCK TABLES `cliente_proveedor` WRITE;
/*!40000 ALTER TABLE `cliente_proveedor` DISABLE KEYS */;
INSERT INTO `cliente_proveedor` VALUES (1122,'Chapa y pintura S.A','Chapitas','011-4683-9452','Pedro lozano 4526','CABA',0,'0',1403,28649812,'RI',137946,0,'Pedro Garcia',14598325,'Director de compras'),(2233,'Alimentos caninos S.R.L','Dogis','011-2468-7895','Concordia 462','CABA',0,'2',1409,23468529,'EX',346852,0,'Juan Marcone',12796432,'Gerente'),(3344,'Aceros Ramos S.R.L','Herramietas Mayoristas','011-1249-7874','Av. Beriro 412','CABA',0,'3',1413,24135764,'RM',234787,1,'Nicolas agustin sanchez',24697235,'Encargado de Ventas'),(4455,'Helos artesanales Fredo E.U','Heladeria Fredo','011-2369-8642','Av. Rivadavia 4795','CABA',1,'0',1412,259763145,'RI',246854,0,'Florencia Martinez',24356741,'Due√±o'),(5566,'Mayorista de heramientas S.A','Fischer','011-1469-8534','Nazarre 1468','CABA',2,'1',1404,23795684,'CF',294568,1,'Agostina Rodriguez',29356125,'Director de compras');
/*!40000 ALTER TABLE `cliente_proveedor` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `factura`
--

LOCK TABLES `factura` WRITE;
/*!40000 ALTER TABLE `factura` DISABLE KEYS */;
INSERT INTO `factura` VALUES (2,1002,2233,'2020-08-19',68,1,11.00,2.31,11.31,249),(3,1023,5566,'2020-07-02',21,2,27.40,5.75,33.15,249),(4,1041,3344,'2020-11-19',7,8,27.50,5.78,33.27,11),(5,1002,5566,'2020-07-08',96,11,11.00,2.31,11.31,249);
/*!40000 ALTER TABLE `factura` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `items`
--

LOCK TABLES `items` WRITE;
/*!40000 ALTER TABLE `items` DISABLE KEYS */;
INSERT INTO `items` VALUES (1,102,20,1,'Tornillo Madera cabeza plana M3 N6',0.55,11.00,'1'),(2,103,13,4,'Tornillo pared M3 philips N3',0.30,3.90,'1'),(5,103,20,7,'Tarugo pared con cabeza N4',0.80,16.00,'2'),(6,103,5,6,'Tornillo pared M3 philips N10',0.80,4.00,'3'),(7,103,5,10,'Tarugo pared con cabeza N10',1.50,7.50,'4'),(8,129,15,3,'Tornillo pared M3 philips N3',0.30,4.50,'1'),(9,129,15,7,'Tornillo pared M3 philips N3',0.80,12.00,'2'),(10,129,20,1,'Tornillo Madera cabeza plana M3 N6',0.30,11.00,'3'),(11,164,30,1,'Tornillo Madera cabeza plana M3 N6',0.55,16.50,'1');
/*!40000 ALTER TABLE `items` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `stock`
--

LOCK TABLES `stock` WRITE;
/*!40000 ALTER TABLE `stock` DISABLE KEYS */;
INSERT INTO `stock` VALUES (1,'tornillo','cabeza plana M3 N6',500,0.55,0.30),(2,'tornillo','pared M3 philips N5',200,0.50,0.25),(3,'tornillo','pared M3 philips N4',120,0.30,0.20),(4,'tornillo','pared M3 philips N3',300,0.30,0.20),(5,'tornillo','pared M3 philips N8',500,0.70,0.45),(6,'tornillo','pared M3 philips N10',420,0.80,0.50),(7,'Tarugo','pared con cabeza N4',200,0.80,0.45),(8,'Tarugo','pared con cabeza N3',250,0.40,0.20),(9,'Tarugo','pared con cabeza N8',300,1.20,0.95),(10,'Tarugo','pared con cabeza N10',410,1.50,1.10),(11,'martillo','martillo de madera grande ',50,50.50,25.00);
/*!40000 ALTER TABLE `stock` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping data for table `talonario`
--

LOCK TABLES `talonario` WRITE;
/*!40000 ALTER TABLE `talonario` DISABLE KEYS */;
INSERT INTO `talonario` VALUES (1002,4,249,200,53,'20-10-2021'),(1013,1,23,100,15,'29-07-2020'),(1023,6,249,800,21,'02-02-2021'),(1041,4,11,300,36,'16-12-2020'),(1069,8,23,600,341,'08-03-2020');
/*!40000 ALTER TABLE `talonario` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-07-30 18:10:07
